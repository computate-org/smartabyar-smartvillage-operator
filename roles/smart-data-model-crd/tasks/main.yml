---
- name: "Check for ENTITY_TYPE var"
  fail:
    msg: |
      The ENTITY_TYPE var is not defined. 
      Try running again like this: ansible-playbook smart-data-model-crd.yaml -e ENTITY_TYPE=TrafficFlowObserved
  when: ENTITY_TYPE is not defined
- name: "Load {{ ENTITY_TYPE }} smart data model specific vars"
  ansible.builtin.include_vars:
    file: "{{ ENTITY_TYPE }}.yaml"
- name: "Write the {{ ENTITY_TYPE }} sample: {{ MODEL_SAMPLE_PATH }}"
  ansible.builtin.template:
    src: "sample.yaml"
    dest: "{{ MODEL_SAMPLE_PATH }}"
